name: 'Screenshot Action'
description: 'A composite action that uses capture-website-cli to capture a full screenshot of a url and save it'
inputs:
  url:
    description: 'The URL of the site, that should get captured'
    required: true
    default: ''
  destination:
    description: 'Where to save the screenshot'
    required: false
    default: './screenshot.png'
runs:
  using: "composite"
  steps:
  - name: Install capture-website-cli
    shell: bash
    run: |
      echo "Installing dependencies ..."
      npm install --global capture-website-cli 1> /dev/null
      echo "Dependencies installed successfully"
  
  - name: Screenshot Website
    shell: bash
    run: |
      capture-website ${{ inputs.url }} --output ${{ inputs.destination }} --full-page
      echo "Screenshot done"
