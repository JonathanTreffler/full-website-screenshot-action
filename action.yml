name: 'Screenshot Action'
description: 'A composite action that uses capture-website-cli to capture a full screenshot of a url and save it'
inputs:
  url:
    description: 'The URL of the site, that should get captured'
    required: true
    default: ''
  destination:
    description: 'Where to save the screenshot'
    required: false
    default: './screenshot.png'
runs:
  using: "composite"
  steps: 
  - uses: actions/setup-node@v1
    with:
      node-version: '14'
  
  - name: Install capture-website-cli
    shell: bash
    run: |
      npm install --global capture-website-cli
      
  - name: Screenshot Website
    shell: bash
    run: |
      capture-website ${{ inputs.url }} --output ${{ inputs.destination }} --full-page
